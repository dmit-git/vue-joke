(function(e){function t(t){for(var n,i,s=t[0],c=t[1],l=t[2],f=0,d=[];f<s.length;f++)i=s[f],r[i]&&d.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],n=!0,s=1;s<o.length;s++){var c=o[s];0!==r[c]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=o[0]))}return e}var n={},r={app:0},a=[];function i(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=n,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},2922:function(e,t,o){"use strict";var n=o("3eee"),r=o.n(n);r.a},"3eee":function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("cadf"),o("551c"),o("097d");var n=o("2b0e"),r=o("ce5b"),a=o.n(r),i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",{attrs:{id:"inspire"}},[o("Header"),o("Content"),o("Footer")],1)},s=[],c=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-content",[o("v-container",[o("div",{staticClass:"grid",attrs:{"data-masonry":'{ "itemSelector": ".grid-item", "columnWidth": 200 }'}},[o("v-layout",{staticClass:"grid-sizer",attrs:{"d-block":""}}),e._l(e.jokes,function(t,n){return o("v-layout",{key:n,staticClass:"grid-item",attrs:{"d-block":""}},[o("Joke",{attrs:{joke:t,action:e.toggleFav,favs:e.favorites}})],1)})],2)])],1)},l=[],u=(o("6762"),o("2fdb"),o("7f7f"),o("84d3")),f=o.n(u),d=o("a002"),v=o.n(d),h=o("9380"),p=o.n(h),_=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-card",[o("v-card-title",[o("div",[o("span",[e._v(e._s(e.joke.value))])])]),o("v-card-actions",{staticClass:"white"},[o("v-spacer"),o("v-btn",{attrs:{flat:"",icon:"",color:e.favIconColor,title:"Add to favorites!"},on:{click:function(t){e.action(e.joke)}}},[o("v-icon",[e._v("thumb_up")])],1),e.favs?e._e():o("v-btn",{attrs:{flat:"",small:"",icon:"",color:"pink",title:"Remove from list."},on:{click:function(t){e.remove(e.joke.id)}}},[o("v-icon",[e._v("clear")])],1)],1)],1)},g=[],O={name:"Joke",props:{joke:{required:!0},action:{required:!0,type:Function},favs:{required:!0,type:Boolean}},computed:{favIconColor:function(){return this.joke.fav?"primary darken-1":"grey lighten-3"}},methods:{remove:function(e){this.$store.dispatch("removeJokeById",e)}}},k=O,m=o("2877"),y=Object(m["a"])(k,_,g,!1,null,null,null);y.options.__file="joke.vue";var E=y.exports,j={name:"Content",components:{Joke:E},data:function(){return{msnry:null}},computed:{jokes:function(){var e=this;return this.favorites?p()(this.$store.getters.favorites,function(t){return!!t&&t.fav&&e.shouldJokeDisplay(t)}):p()(this.$store.getters.jokes,function(t){return!!t&&(!e.categoryIsSelected||e.shouldJokeDisplay(t))})},categoryIsSelected:function(){return""!==this.category},category:function(){return this.$store.getters.selectedCategory},favorites:function(){return"Favorites"===this.$route.name}},methods:{toggleFav:function(e){var t=this;this.$store.dispatch("toggleFavorites",e).then(function(){t.favorites&&t.layout()})},jokeHasCategory:function(e){return("undefined"!==typeof e||null!==e)&&(null!==e.category||"undefined"!==typeof e.category)},jokeInSelectedCat:function(e){return e.category.includes(this.category)},shouldJokeDisplay:function(e){return this.jokeInSelectedCat(e)&&this.categoryIsSelected||!this.categoryIsSelected},layout:function(){var e=this;n["default"].nextTick().then(function(){e.msnry.reloadItems(),e.msnry.layout(),window.scrollTo(0,document.querySelector(".grid").scrollHeight)})}},mounted:function(){var e=this,t=document.querySelector(".grid");this.msnry=new f.a(t,{itemSelector:".grid-item",columnWidth:".grid-sizer",percentPosition:!0,gutter:10}),v.a.getItem("favorites").then(function(t){e.$store.dispatch("localFavorites",t)}).catch(function(){return console.info("No local favorites.")})},watch:{category:function(){this.layout()},jokes:function(e,t){t.length!==e.length&&this.layout()},$route:function(){this.layout()}}},b=j,A=(o("75a5"),Object(m["a"])(b,c,l,!1,null,null,null));A.options.__file="content.vue";var C=A.exports,D=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-footer",{attrs:{color:"indigo",height:"auto",app:"",fixed:"",row:"","justify-center":""}},[o("v-container",{attrs:{row:"","justify-space-between":""}},[o("span",{staticClass:"white--text"},[e._v("Â© 2018")]),o("v-spacer")],1)],1)},J=[],T={name:"Footer"},S=T,w=(o("f187"),Object(m["a"])(S,D,J,!1,null,null,null));w.options.__file="footer.vue";var F=w.exports,I=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-navigation-drawer",{attrs:{fixed:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[o("v-list",{attrs:{dense:""}},[o("router-link",{attrs:{to:"/"}},[o("v-list-tile",{on:{click:function(t){e.drawer=!e.drawer}}},[o("v-list-tile-action",[o("v-icon",[e._v("home")])],1),o("v-list-tile-content",[o("v-list-tile-title",[e._v("All Jokes")])],1)],1)],1),o("router-link",{attrs:{to:"/favorites"}},[o("v-list-tile",{on:{click:function(t){e.drawer=!e.drawer}}},[o("v-list-tile-action",[o("v-icon",[e._v("star")])],1),o("v-list-tile-content",[o("v-list-tile-title",[e._v("Favorites")])],1)],1)],1)],1),o("v-divider")],1),o("v-toolbar",{attrs:{color:"indigo",dark:"",fixed:""}},[o("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}},[o("v-icon",[e._v("menu")])],1),e.favorites?e._e():o("v-select",{staticClass:"input-group--focused",attrs:{items:e.categories,label:"Select category","item-value":"text","single-line":""},model:{value:e.selectedCat,callback:function(t){e.selectedCat=t},expression:"selectedCat"}}),""==e.selectedCat||e.favorites?e._e():o("v-icon",{staticClass:"clearBtn",on:{click:function(t){e.clearCat()}}},[e._v("close")]),e.favorites?e._e():o("v-btn",{attrs:{dark:"",color:"primary",title:"Add random joke"},on:{click:e.randJoke}},[e._v("Fetch Joke\n      "),o("v-icon",{attrs:{dark:""}},[e._v("add")])],1),o("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.favorites&&e.jokesAvailable,expression:"!favorites && jokesAvailable"}],attrs:{dark:"",color:"pink",title:"Clear jokes!"},on:{click:e.clearJokes}},[e._v("Clear Jokes\n      "),o("v-icon",{attrs:{dark:""}},[e._v("clear")])],1),o("v-spacer"),e.favorites?e._e():o("v-text-field",{attrs:{name:"input-5",label:"Search for joke","append-icon":"search",type:"text",color:"primary","single-line":""},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.search(t):null}},model:{value:e.searchQry,callback:function(t){e.searchQry=t},expression:"searchQry"}})],1),o("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{indeterminate:!0}})],1)},L=[],G={name:"Header",data:function(){return{drawer:!1,searchQry:"",selectedCat:""}},computed:{categories:function(){return this.$store.getters.categories},loading:function(){return this.$store.getters.loading},favorites:function(){return"Favorites"===this.$route.name},jokesAvailable:function(){return this.$store.getters.jokes.length>0}},created:function(){this.$store.dispatch("fetchCategories")},methods:{search:function(){""!==this.searchQry&&this.$store.dispatch("searchJoke",this.searchQry)},clearCat:function(){this.$store.dispatch("setCategory",""),this.selectedCat=""},clearJokes:function(){this.$store.dispatch("clearJokesList")},randJoke:function(){this.$store.dispatch("fetchRandJoke")}},watch:{selectedCat:function(e){this.$store.dispatch("setCategory",e)}}},x=G,$=(o("2922"),Object(m["a"])(x,I,L,!1,null,null,null));$.options.__file="header.vue";var R=$.exports,N={name:"app",components:{Content:C,Footer:F,Header:R}},K=N,M=(o("5c0b"),Object(m["a"])(K,i,s,!1,null,null,null));M.options.__file="App.vue";var V,P=M.exports,Y=o("2f62"),B={jokes:[],categories:["uncategorized"],selectedCategory:"",loading:!1,favorites:[]},H={jokes:function(e){return e.jokes},categories:function(e){return e.categories},selectedCategory:function(e){return e.selectedCategory},loading:function(e){return e.loading},favorites:function(e){return e.favorites}},q=o("bd86"),z=o("5176"),Q=o.n(z),W=o("75fc"),U=o("51f5"),X=o.n(U),Z=o("0644"),ee=o.n(Z),te={ADD_JOKE:"ADD_JOKE",ADD_TO_FAVORITES:"ADD_TO_FAVORITES",BATCH_ADD:"BATCH_ADD",EMPTY_JOKES:"EMPTY_JOKES",LOAD_CATEGORIES:"LOAD_CATEGORIES",LOADING_ON:"LOADING_ON",LOADING_OFF:"LOADING_OFF",LOCAL_JOKES:"LOCAL_JOKES",REMOVE_JOKE_BY_ID:"REMOVE_JOKE_BY_ID",SELECTED_CATEGORY:"SELECTED_CATEGORY",TOGGLE_FAV:"TOGGLE_FAV"},oe=(V={},Object(q["a"])(V,te.ADD_JOKE,function(e,t){if(0===p()(e.jokes,{id:t.id}).length){null==t.category&&(t.category="uncategorized");var o=X()(e.favorites,{id:t.id});t.fav=o>-1;var r=ee()(e.jokes);r.push(t),n["default"].set(e,"jokes",r)}else console.log("Joke is already fetched")}),Object(q["a"])(V,te.BATCH_ADD,function(e,t){var o=t.map(function(t){null==t.category&&(t.category="uncategorized");var o=X()(e.favorites,{id:t.id});return t.fav=o>-1,t});n["default"].set(e,"jokes",o)}),Object(q["a"])(V,te.LOAD_CATEGORIES,function(e,t){var o;(o=e.categories).push.apply(o,Object(W["a"])(t))}),Object(q["a"])(V,te.SELECTED_CATEGORY,function(e,t){n["default"].set(e,"selectedCategory",t)}),Object(q["a"])(V,te.LOADING_ON,function(e){e.loading=!0}),Object(q["a"])(V,te.LOADING_OFF,function(e){e.loading=!1}),Object(q["a"])(V,te.EMPTY_JOKES,function(e){e.jokes.splice(0,e.jokes.length)}),Object(q["a"])(V,te.ADD_TO_FAVORITES,function(e,t){var o=Q()({},t),r=X()(e.jokes,{id:t.id});o.fav="undefined"===typeof o.fav||!o.fav,n["default"].set(e.jokes,r,o)}),Object(q["a"])(V,te.REMOVE_FROM_FAVORITES,function(e,t){var o=X()(e.favorites,{id:t.id});e.favorites.splice(o,1)}),Object(q["a"])(V,te.TOGGLE_FAV,function(e,t){var o=Q()({},t);o.fav="undefined"===typeof o.fav||!o.fav;var r=X()(e.jokes,{id:t.id}),a=X()(e.favorites,{id:t.id});-1===r?e.jokes.push(o):n["default"].set(e.jokes,r,o),o.fav?e.favorites.push(o):e.favorites.splice(a,1),v.a.clear().then(function(){v.a.setItem("favorites",e.favorites)})}),Object(q["a"])(V,te.LOCAL_JOKES,function(e,t){var o;(o=e.favorites).push.apply(o,Object(W["a"])(t))}),Object(q["a"])(V,te.REMOVE_JOKE_BY_ID,function(e,t){var o=X()(e.jokes,{id:t}),r=ee()(e.jokes);r.splice(o,1),n["default"].set(e,"jokes",r)}),V),ne={fetchRandJoke:function(e){var t=e.commit;t(te.LOADING_ON);var o=H.selectedCategory,n=""!==o&&"uncategorized"!==o?"?category=".concat(o):"";fetch("https://api.chucknorris.io/jokes/random".concat(n),{method:"GET"}).then(function(e){return e.json()}).then(function(e){t(te.ADD_JOKE,e),t(te.LOADING_OFF)})},fetchCategories:function(e){var t=e.commit;fetch("https://api.chucknorris.io/jokes/categories",{method:"GET"}).then(function(e){return e.json()}).then(function(e){t(te.LOAD_CATEGORIES,e)})},setCategory:function(e,t){var o=e.commit;o(te.SELECTED_CATEGORY,t)},searchJoke:function(e,t){var o=e.commit;o(te.LOADING_ON),fetch("https://api.chucknorris.io/jokes/search?query=".concat(t),{method:"GET"}).then(function(e){return e.json()}).then(function(e){o(te.EMPTY_JOKES),o(te.BATCH_ADD,e.result),o(te.LOADING_OFF)})},addToFavorites:function(e,t){var o=e.commit;o(te.ADD_TO_FAVORITES,t)},toggleFavorites:function(e,t){var o=e.commit;o(te.TOGGLE_FAV,t)},localFavorites:function(e,t){var o=e.commit;o(te.LOCAL_JOKES,t)},clearJokesList:function(e){var t=e.commit;t(te.EMPTY_JOKES)},removeJokeById:function(e,t){var o=e.commit;o(te.REMOVE_JOKE_BY_ID,t)}};n["default"].use(Y["a"]);var re=new Y["a"].Store({actions:ne,mutations:oe,state:B,getters:H}),ae=o("8c4f");n["default"].use(ae["a"]);var ie=new ae["a"]({routes:[{path:"/",name:"Jokes",component:P},{path:"/favorites",name:"Favorites",component:P}]});o("d1e7");n["default"].use(a.a),new n["default"]({el:"#app",store:re,router:ie,render:function(e){return e(P)}})},"5c0b":function(e,t,o){"use strict";var n=o("5e27"),r=o.n(n);r.a},"5e27":function(e,t,o){},"75a5":function(e,t,o){"use strict";var n=o("cfd9"),r=o.n(n);r.a},cdd1:function(e,t,o){},cfd9:function(e,t,o){},f187:function(e,t,o){"use strict";var n=o("cdd1"),r=o.n(n);r.a}});
//# sourceMappingURL=app.44ce6eaa.js.map